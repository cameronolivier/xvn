#!/bin/sh

# Wrapper script for xvn npm package
# This script is a temporary entrypoint to allow users to run `xvn setup`.
# After setup, the `xvn` command in the user's PATH should be the one
# from ~/.xvn/bin.

# The actual binary is installed by the postinstall script to ~/.xvn/bin/xvn
XVN_BINARY="$HOME/.xvn/bin/xvn"

if [ ! -f "$XVN_BINARY" ]; then
  echo "Error: xvn binary not found at $XVN_BINARY"
  echo "It seems the installation may have failed. Please try reinstalling:"
  echo "  npm install -g @olvrcc/xvn"
  exit 1
fi

# Execute the native binary, passing all arguments
exec "$XVN_BINARY" "$@"